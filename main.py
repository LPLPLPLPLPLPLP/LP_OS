from LPSystem.devlib import*
import gc,_thread,time
stop = False
speed = 2
logo = bytearray([0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFC,0X00,0X3F,0XFC,0X00,0X3F,0XFC,
0X00,0X3F,0XE3,0X81,0XC7,0XE3,0X81,0XC7,0XE3,0X81,0XC7,0XE0,0X7E,0X07,0XE0,0X7E,
0X07,0XE0,0X7E,0X07,0XE0,0X7E,0X07,0XE0,0X7E,0X07,0XE0,0X7E,0X07,0XE3,0X81,0XC7,
0XE3,0X81,0XC7,0XE3,0X81,0XC7,0XFC,0X00,0X3F,0XFC,0X00,0X3F,0XFC,0X00,0X3F,0XFF,
0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF,0XFF])
loads = [bytearray([0X01,0XF8,0X00,0X07,0XFE,0X00,0X09,0XFD,0X00,0X10,0XFC,0X80,0X20,0XF8,0X40,0X43,0X0C,0X20,0X44,0X02,0X20,0X84,0X02,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X20,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0XFE,0X00,0X08,0X7F,0X00,0X10,0X7F,0X80,0X20,0XFF,0X40,0X43,0X0E,0X20,0X44,0X02,0X20,0X84,0X02,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X20,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X3E,0X00,0X08,0X1F,0X00,0X10,0X1F,0X80,0X20,0XFF,0XC0,0X43,0X0F,0XE0,0X44,0X03,0XA0,0X84,0X03,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X20,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X0E,0X00,0X08,0X1F,0X00,0X10,0X1F,0X80,0X20,0XFF,0XC0,0X43,0X0F,0XE0,0X44,0X03,0XE0,0X84,0X03,0XF0,0X88,0X01,0X70,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X20,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X03,0X00,0X10,0X07,0X80,0X20,0XFF,0XC0,0X43,0X0F,0XE0,0X44,0X03,0XE0,0X84,0X03,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X84,0X02,0X30,0X44,0X02,0X20,0X43,0X0C,0X20,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0D,0XE0,0X44,0X03,0XE0,0X84,0X03,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X84,0X03,0XF0,0X44,0X03,0XE0,0X43,0X0C,0XE0,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X88,0X01,0XF0,0X84,0X03,0XF0,0X44,0X03,0XE0,0X43,0X0F,0XE0,0X20,0XFF,0XC0,0X10,0X0F,0X80,0X08,0X07,0X00,0X06,0X06,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X90,0X88,0X01,0XD0,0X84,0X03,0XF0,0X44,0X03,0XE0,0X43,0X0F,0XE0,0X20,0XFF,0XC0,0X10,0X7F,0X80,0X08,0X7F,0X00,0X06,0X3E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X03,0X20,0X43,0X0F,0XE0,0X21,0XFF,0XC0,0X11,0XFF,0X80,0X0B,0XFF,0X00,0X07,0XFE,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X4F,0X0C,0X60,0X3F,0XFE,0X40,0X1F,0XFF,0X80,0X0F,0XFF,0X00,0X07,0XFE,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X98,0X01,0X10,0XFC,0X02,0X10,0X7C,0X02,0X20,0X7F,0X0C,0X60,0X3F,0XF0,0X40,0X1F,0XF8,0X80,0X0F,0XF9,0X00,0X07,0XFE,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0XE8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XFC,0X02,0X10,0X7C,0X02,0X20,0X7F,0X0C,0X60,0X3F,0XF0,0X40,0X1F,0XC0,0X80,0X0F,0X81,0X00,0X07,0X8E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X43,0X0C,0X60,0X74,0X02,0X20,0XFC,0X02,0X30,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XFC,0X02,0X10,0X7C,0X02,0X20,0X7F,0X0C,0X60,0X3E,0XF0,0X40,0X18,0X00,0X80,0X08,0X01,0X00,0X07,0X0E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X10,0X00,0X80,0X20,0XF8,0X40,0X73,0X0C,0X60,0X7C,0X02,0X20,0XFC,0X02,0X30,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XFC,0X02,0X10,0X7C,0X02,0X20,0X63,0X0C,0X60,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X07,0X0E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X08,0X01,0X00,0X18,0X00,0X80,0X3C,0XF8,0X40,0X7F,0X0C,0X60,0X7C,0X02,0X20,0XFC,0X02,0X30,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0XF8,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X60,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X07,0X0E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X06,0X06,0X00,0X0E,0X01,0X00,0X1F,0X00,0X80,0X3F,0XF8,0X40,0X7F,0X0C,0X60,0X7C,0X02,0X20,0XFC,0X02,0X30,0XF8,0X01,0X10,0XB8,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X60,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X07,0X0E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X07,0X06,0X00,0X0F,0X81,0X00,0X1F,0X80,0X80,0X3F,0XF8,0X40,0X7F,0X0C,0X60,0X5C,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X60,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X07,0X0E,0X00,0X01,0XF8,0X00,]),
bytearray([0X01,0XF8,0X00,0X07,0XFE,0X00,0X09,0XFD,0X00,0X10,0XF8,0X80,0X20,0XF8,0X40,0X63,0X0C,0X60,0X44,0X02,0X20,0X84,0X02,0X30,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X88,0X01,0X10,0X84,0X02,0X10,0X44,0X02,0X20,0X43,0X0C,0X60,0X20,0XF0,0X40,0X10,0X00,0X80,0X08,0X01,0X00,0X07,0X0E,0X00,0X01,0XF8,0X00,]),]
gc.collect()
def _load():
    speed = speed * 0.01
    while not stop:
        for i in loads:
            if i != '' and not stop:
                oled.fill(0)
                oled.Bitmap(52,19,logo,24,24,1)
                oled.Bitmap(54,44,i,20,20,1)
                oled.show()
                time.sleep(speed)
_thread.start_new_thread(_load,())
#-----启动项------#
import ntptime
Wlan = wifi()
with open('LPSystem/System/network.conf','r') as f:
    f.seek(0)
    config = f.readline()
    while not config == '':
        config = config.split(',')
        print("Connecting to WiFi:",config[0])
        if Wlan.connectWiFi(config[0],config[1]):
            ntptime.settime(timezone=8, server='time.windows.com')
        config = f.readline()
#----------------#
logo = None
loads = None
del loads,logo
gc.collect()
print("mem_info:",gc.mem_free())
stop = True
execfile("/LPSystem/Desktop.py")